{
  "version": 3,
  "sources": ["../js/login.js"],
  "sourcesContent": ["// Login page script\nfunction postJSON(url, data) {\n  return fetch(url, {\n    method: 'POST',\n    credentials: 'same-origin',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(data)\n  }).then(async (r) => {\n    if (!r.ok) {\n      const t = await r.text();\n      throw new Error(t || `HTTP ${r.status}`);\n    }\n    return r.json().catch(() => ({}));\n  });\n}\n\nconst form = document.getElementById('loginForm');\nif (form) {\n  form.addEventListener('submit', async (e) => {\n    e.preventDefault();\n    const email = form.email.value.trim();\n    const password = form.password.value;\n    const errEl = document.getElementById('loginError');\n    errEl.classList.add('d-none');\n    try {\n      await postJSON('/api/v3/auth/login', { email, password });\n      // Session cookie set by server\n      window.location.href = '/dash';\n    } catch (err) {\n      errEl.textContent = err.message;\n      errEl.classList.remove('d-none');\n    }\n  });\n}\n"],
  "mappings": ";;AACA,WAAS,SAAS,KAAK,MAAM;AAC3B,WAAO,MAAM,KAAK;AAAA,MAChB,QAAQ;AAAA,MACR,aAAa;AAAA,MACb,SAAS,EAAE,gBAAgB,mBAAmB;AAAA,MAC9C,MAAM,KAAK,UAAU,IAAI;AAAA,IAC3B,CAAC,EAAE,KAAK,OAAO,MAAM;AACnB,UAAI,CAAC,EAAE,IAAI;AACT,cAAM,IAAI,MAAM,EAAE,KAAK;AACvB,cAAM,IAAI,MAAM,KAAK,QAAQ,EAAE,MAAM,EAAE;AAAA,MACzC;AACA,aAAO,EAAE,KAAK,EAAE,MAAM,OAAO,CAAC,EAAE;AAAA,IAClC,CAAC;AAAA,EACH;AAEA,MAAM,OAAO,SAAS,eAAe,WAAW;AAChD,MAAI,MAAM;AACR,SAAK,iBAAiB,UAAU,OAAO,MAAM;AAC3C,QAAE,eAAe;AACjB,YAAM,QAAQ,KAAK,MAAM,MAAM,KAAK;AACpC,YAAM,WAAW,KAAK,SAAS;AAC/B,YAAM,QAAQ,SAAS,eAAe,YAAY;AAClD,YAAM,UAAU,IAAI,QAAQ;AAC5B,UAAI;AACF,cAAM,SAAS,sBAAsB,EAAE,OAAO,SAAS,CAAC;AAExD,eAAO,SAAS,OAAO;AAAA,MACzB,SAAS,KAAK;AACZ,cAAM,cAAc,IAAI;AACxB,cAAM,UAAU,OAAO,QAAQ;AAAA,MACjC;AAAA,IACF,CAAC;AAAA,EACH;",
  "names": []
}
